<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div
    class="h-[3.75rem] bg-red-500"
    style="width: 100%; height: 3.75rem"
  ></div>
  <div class="w-full justify-center items-center flex mb-10">
    <img
      [src]="profile['avatar']"
      alt="Descripción de la imagen"
      class="w-[6rem] h-[6rem] rounded-full mt-[-3rem]"
    />
  </div>
  <div class="mx-5 rounded-lg">
    <div class="p-5 w-full bg-white shadow-sm rounded-md flex flex-col gap-y-5">
      <h1 class="text-md font-semibold text-gray-800">Personal Information</h1>
      <div>
        <h1 class="mb-1" class="text-gray-800 text-md font-semibold">
          UserName:
        </h1>
        <div class="flex justify-between items-center">
          <p *ngIf="!this.editUserName" class="text-gray-500">
            {{ profile['username'] }}
          </p>
          <input
            *ngIf="this.editUserName"
            value="{{ profile['username'] }}"
            placeholder="Edit here"
            class="w-full bg-gray-100 px-2 py-2 rounded-md"
            #inputUserName
          />
          <div
            *ngIf="!this.editUserName"
            (click)="this.disableAllEdits(); this.editUserName = true; "
            class="bg-gray-100 h-6 w-6 rounded-full flex justify-center items-center text-md hover:gray-200"
          >
            ✏️
          </div>
        </div>
      </div>
      <div>
        <h1 class="mb-1" class="text-gray-800 text-md font-semibold">Name:</h1>

        <div class="flex justify-between items-center">
          <p *ngIf="!this.editFirstName" class="text-gray-500">
            {{ profile['first_name'] }}
          </p>
          <input
            *ngIf="this.editFirstName"
            value="{{ profile['first_name'] }}"
            placeholder="Edit here"
            class="w-full bg-gray-100 px-2 py-2 rounded-md"
          />
          <div
            *ngIf="!this.editFirstName"
            (click)="this.disableAllEdits();this.editFirstName = true"
            class="bg-gray-100 h-6 w-6 rounded-full flex justify-center items-center text-md hover:gray-200"
          >
            ✏️
          </div>
        </div>
      </div>
      <div>
        <h1 class="mb-1" class="text-gray-800 text-md font-semibold">
          Surname:
        </h1>
        <div class="flex justify-between items-center">
          <p *ngIf="!this.editLastName" class="text-gray-500">
            {{ profile['last_name'] }}
          </p>
          <input
            value="{{ profile['last_name'] }}"
            *ngIf="this.editLastName"
            placeholder="Edit here"
            class="w-full bg-gray-100 px-2 py-2 rounded-md"
          />

          <div
            *ngIf="!this.editLastName"
            (click)="this.disableAllEdits();this.editLastName = true"
            class="bg-gray-100 h-6 w-6 rounded-full flex justify-center items-center text-md hover:gray-200"
          >
            ✏️
          </div>
        </div>
      </div>
      <div>
        <h1 class="mb-1" class="text-gray-800 text-md font-semibold">Gmail:</h1>
        <div class="flex justify-between items-center">
          <p *ngIf="!this.editEmail" class="text-gray-500">
            {{ this.auth.user?.email }}
          </p>
          <input
            value="{{ this.auth.user?.email }}"
            *ngIf="this.editEmail"
            placeholder="Edit here"
            class="w-full bg-gray-100 px-2 py-2 rounded-md"
          />

          <div
            *ngIf="!this.editEmail"
            (click)="this.disableAllEdits(); this.editEmail = true"
            class="bg-gray-100 h-6 w-6 rounded-full flex justify-center items-center text-md hover:gray-200"
          >
            ✏️
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="w-full justify-center flex mt-5">
    <button
      (click)="this.auth.logOut()"
      class="px-5 py-3 bg-red-500 font-semibold rounded-xl text-white"
    >
      Log Out
    </button>
  </div>
</ion-content>
